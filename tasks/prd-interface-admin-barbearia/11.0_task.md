---
status: pending
parallelizable: true
blocked_by: ["10.0"]
---

<task_context>
<domain>frontend/services</domain>
<type>implementation</type>
<scope>core_feature</scope>
<complexity>low</complexity>
<dependencies>http_server</dependencies>
<unblocks>12.0</unblocks>
</task_context>

# Tarefa 11.0: Implementar serviços e tipos para gestão de serviços

## Visão Geral

Criar serviços, tipos TypeScript e schemas Zod para operações de gestão de serviços da barbearia. Similar à tarefa 9.0, mas focado em serviços (corte, barba, etc.).

<requirements>
- Tipos TypeScript para Serviço
- Schemas Zod para validação
- Serviço com métodos CRUD
- Validação de preço e duração
- Paginação e filtros
</requirements>

## Subtarefas

- [ ] 11.1 Criar tipos em `src/types/servico.ts`
- [ ] 11.2 Criar schemas Zod em `src/schemas/servico.schema.ts`
- [ ] 11.3 Implementar `src/services/servico.service.ts`
- [ ] 11.4 Adicionar métodos CRUD
- [ ] 11.5 Implementar paginação
- [ ] 11.6 Criar testes unitários

## Detalhes de Implementação

### Tipos

```typescript
// src/types/servico.ts
export interface Servico {
  id: string;
  nome: string;
  descricao: string;
  duracaoMinutos: number;
  preco: number;
  isActive: boolean;
  createdAt: string;
}

export interface CreateServicoInput {
  nome: string;
  descricao: string;
  duracaoMinutos: number;
  preco: number;
}

export interface UpdateServicoInput {
  nome?: string;
  descricao?: string;
  duracaoMinutos?: number;
  preco?: number;
}
```

### Schema Zod

```typescript
// src/schemas/servico.schema.ts
import { z } from 'zod';

export const createServicoSchema = z.object({
  nome: z.string().min(3, 'Nome deve ter no mínimo 3 caracteres'),
  descricao: z.string().optional(),
  duracaoMinutos: z
    .number()
    .min(1, 'Duração deve ser maior que 0')
    .max(480, 'Duração máxima de 8 horas'),
  preco: z.number().min(0, 'Preço não pode ser negativo'),
});

export type CreateServicoFormData = z.infer<typeof createServicoSchema>;
```

### Serviço

```typescript
// src/services/servico.service.ts
import { api } from './api';
import type { Servico, CreateServicoInput, UpdateServicoInput, PaginatedResponse } from '@/types';

export const servicoService = {
  list: async (params = {}): Promise<PaginatedResponse<Servico>> => {
    const response = await api.get<PaginatedResponse<Servico>>('/api/servicos', { params });
    return response.data;
  },

  create: async (data: CreateServicoInput): Promise<Servico> => {
    const response = await api.post<Servico>('/api/servicos', data);
    return response.data;
  },

  update: async (id: string, data: UpdateServicoInput): Promise<Servico> => {
    const response = await api.put<Servico>(`/api/servicos/${id}`, data);
    return response.data;
  },

  deactivate: async (id: string): Promise<void> => {
    await api.put(`/api/servicos/${id}/desativar`);
  },

  reactivate: async (id: string): Promise<void> => {
    await api.put(`/api/servicos/${id}/reativar`);
  },
};
```

## Critérios de Sucesso

- [ ] Tipos TypeScript corretos
- [ ] Schemas Zod validam corretamente
- [ ] Validação de preço >= 0 funciona
- [ ] Validação de duração > 0 funciona
- [ ] Serviço implementa todos métodos CRUD
- [ ] Testes unitários >= 80%

## Arquivos Afetados

- `src/types/servico.ts` (NOVO)
- `src/schemas/servico.schema.ts` (NOVO)
- `src/services/servico.service.ts` (NOVO)

## Estimativa

- **Esforço:** 1 dia
- **Complexidade:** Baixa
